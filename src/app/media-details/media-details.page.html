<ion-header>
  <ion-toolbar>
    <ion-title>mediaDetails</ion-title>
  </ion-toolbar>
</ion-header>
<ion-content *ngIf="checkPromise">
  <ion-item *ngIf="!checkPromise"><ion-spinner class="spinner" paused={{checkPromise}}></ion-spinner></ion-item>
  <ion-card *ngIf="media.type=='movie'">
    <iframe [src]="cleanUrl" frameborder="0" class="trailer" allowfullscreen></iframe>
    <ion-card-header>
      <ion-badge class="genreList" *ngFor="let item of media.genre">{{item["name"]}}</ion-badge>
      <ion-item>
        <ion-card-title>{{media.title}}</ion-card-title>
        <ion-button class="favButton" fill="clear" slot="end" (click)="saveFav()">
          <ion-icon [name]="saved ? 'bookmark' : 'bookmark-outline'"></ion-icon>
        </ion-button>
      </ion-item>
    </ion-card-header>
    <ion-item>
      <ion-img class="posterPreview" slot="start" src={{media.src}}></ion-img>
      <ion-label text-wrap>{{media.text}}</ion-label>
    </ion-item>
    <ion-item style="margin: 2%;">
      <ng-container *ngFor="let fullstar of fullStars">
        <ion-icon name="star" class="starRate"></ion-icon>
      </ng-container>
    <ng-container *ngFor="let emptyStar of emptyStars">
      <ion-icon name="star-outline" ></ion-icon>
    </ng-container>
    </ion-item>
  </ion-card>

  <ion-card *ngIf="media.type=='game'">
    <ion-img src={{media.src}}></ion-img>
    <ion-card-header>
      <ion-badge class="genreList" *ngFor="let item of media.genre">{{item["name"]}}</ion-badge>
      <ion-item>
        <ion-card-title>{{media.title}}</ion-card-title>
        <ion-button class="favButton" fill="clear" slot="end" (click)="saveFav()">
          <ion-icon [name]="saved ? 'bookmark' : 'bookmark-outline'"></ion-icon>
        </ion-button>
      </ion-item>
    </ion-card-header>
    <ion-item><ion-label text-wrap>{{media.text}}</ion-label></ion-item>
    <video controls autoplay class="trailer">
      <source [src]="cleanUrl" type="video/mp4"/>
    </video>
    <ion-item style="margin: 2%;">
      <ng-container *ngFor="let fullstar of fullStars">
        <ion-icon name="star" class="starRate"></ion-icon>
      </ng-container>
    <ng-container *ngFor="let emptyStar of emptyStars">
      <ion-icon name="star-outline" ></ion-icon>
    </ng-container>
    </ion-item>
  </ion-card>
</ion-content>
